@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: hsl(0, 0%, 100%);
    --foreground: hsl(222.2, 84%, 4.9%);
    --card: hsl(0, 0%, 100%);
    --card-foreground: hsl(222.2, 84%, 4.9%);
    --popover: hsl(0, 0%, 100%);
    --popover-foreground: hsl(222.2, 84%, 4.9%);
    --primary: hsl(221.2, 83.2%, 53.3%);
    --primary-foreground: hsl(210, 40%, 98%);
    --secondary: hsl(210, 40%, 96%);
    --secondary-foreground: hsl(222.2, 84%, 4.9%);
    --muted: hsl(210, 40%, 96%);
    --muted-foreground: hsl(215.4, 16.3%, 46.9%);
    --accent: hsl(210, 40%, 96%);
    --accent-foreground: hsl(222.2, 84%, 4.9%);
    --destructive: hsl(0, 84.2%, 60.2%);
    --destructive-foreground: hsl(210, 40%, 98%);
    --border: hsl(214.3, 31.8%, 91.4%);
    --input: hsl(214.3, 31.8%, 91.4%);
    --ring: hsl(221.2, 83.2%, 53.3%);
    --radius: 0.75rem;
    --chart-1: hsl(12, 76%, 61%);
    --chart-2: hsl(173, 58%, 39%);
    --chart-3: hsl(197, 37%, 24%);
    --chart-4: hsl(43, 74%, 66%);
    --chart-5: hsl(27, 87%, 67%);
    --sidebar-background: hsl(0, 0%, 98%);
    --sidebar-foreground: hsl(240, 5.3%, 26.1%);
    --sidebar-primary: hsl(240, 5.9%, 10%);
    --sidebar-primary-foreground: hsl(0, 0%, 98%);
    --sidebar-accent: hsl(240, 4.8%, 95.9%);
    --sidebar-accent-foreground: hsl(240, 5.9%, 10%);
    --sidebar-border: hsl(220, 13%, 91%);
    --sidebar-ring: hsl(217.2, 91.2%, 59.8%);
    --font-sans: 'Inter', system-ui, sans-serif;
    --font-serif: 'Georgia', serif;
    --font-mono: 'ui-monospace', 'SFMono-Regular', 'Consolas', 'Liberation Mono', 'Menlo', monospace;
  }

  .dark {
    --background: hsl(222.2, 84%, 4.9%);
    --foreground: hsl(210, 40%, 98%);
    --card: hsl(222.2, 84%, 4.9%);
    --card-foreground: hsl(210, 40%, 98%);
    --popover: hsl(222.2, 84%, 4.9%);
    --popover-foreground: hsl(210, 40%, 98%);
    --primary: hsl(217.2, 91.2%, 59.8%);
    --primary-foreground: hsl(222.2, 84%, 4.9%);
    --secondary: hsl(217.2, 32.6%, 17.5%);
    --secondary-foreground: hsl(210, 40%, 98%);
    --muted: hsl(217.2, 32.6%, 17.5%);
    --muted-foreground: hsl(215, 20.2%, 65.1%);
    --accent: hsl(217.2, 32.6%, 17.5%);
    --accent-foreground: hsl(210, 40%, 98%);
    --destructive: hsl(0, 62.8%, 30.6%);
    --destructive-foreground: hsl(210, 40%, 98%);
    --border: hsl(217.2, 32.6%, 17.5%);
    --input: hsl(217.2, 32.6%, 17.5%);
    --ring: hsl(224.3, 76.3%, 94.1%);
    --chart-1: hsl(220, 70%, 50%);
    --chart-2: hsl(160, 60%, 45%);
    --chart-3: hsl(30, 80%, 55%);
    --chart-4: hsl(280, 65%, 60%);
    --chart-5: hsl(340, 75%, 55%);
    --sidebar-background: hsl(224, 71.4%, 4.1%);
    --sidebar-foreground: hsl(210, 20%, 98%);
    --sidebar-primary: hsl(224, 71.4%, 4.1%);
    --sidebar-primary-foreground: hsl(210, 20%, 98%);
    --sidebar-accent: hsl(215, 27.9%, 16.9%);
    --sidebar-accent-foreground: hsl(210, 20%, 98%);
    --sidebar-border: hsl(215, 27.9%, 16.9%);
    --sidebar-ring: hsl(217.2, 91.2%, 59.8%);
  }
}

@layer base {
  * {
    @apply border-border;
    transition: all 0.2s ease;
  }
  
  body {
    @apply bg-background text-foreground font-sans antialiased;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold;
  }
  
  /* Global input styling */
  input, textarea, select {
    @apply bg-slate-900 text-slate-100 placeholder-slate-400 border-slate-700;
  }
  
  input:focus, textarea:focus, select:focus {
    @apply border-slate-500 ring-0 outline-none;
  }
  
  /* Override autofill styles for all browsers */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px rgb(15 23 42) inset !important; /* slate-900 */
    -webkit-text-fill-color: rgb(241 245 249) !important; /* slate-100 */
    caret-color: rgb(241 245 249) !important;
    transition: background-color 5000s ease-in-out 0s;
  }
  
  /* Firefox autofill override */
  input:-moz-autofill {
    background-color: rgb(15 23 42) !important; /* slate-900 */
    color: rgb(241 245 249) !important; /* slate-100 */
  }
  
  /* Edge/IE autofill override */
  input:-ms-autofill {
    background-color: rgb(15 23 42) !important; /* slate-900 */
    color: rgb(241 245 249) !important; /* slate-100 */
  }

  /* Enhanced date picker icon styling */
  input[type="date"]::-webkit-calendar-picker-indicator {
    background-color: transparent;
    color: rgb(241 245 249); /* slate-100 */
    cursor: pointer;
    filter: invert(1);
    font-size: 1.2em;
    width: 1.2em;
    height: 1.2em;
    padding: 0;
    margin-right: 4px;
  }

  input[type="date"]::-webkit-calendar-picker-indicator:hover {
    opacity: 0.8;
  }

  /* Firefox date picker icon */
  input[type="date"]::-moz-calendar-picker-indicator {
    background-color: transparent;
    color: rgb(241 245 249); /* slate-100 */
    cursor: pointer;
    filter: invert(1);
    font-size: 1.2em;
    width: 1.2em;
    height: 1.2em;
  }
}

@layer components {
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground)) transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 3px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }
  
  .data-table-row {
    @apply hover:bg-muted cursor-pointer transition-colors;
  }
  
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background;
  }
  
  .skeleton {
    background: linear-gradient(90deg, hsl(var(--muted)) 25%, hsl(var(--accent)) 50%, hsl(var(--muted)) 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
  }
  
  @keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
  
  .mobile-nav-enter {
    transform: translateX(-100%);
  }
  
  .mobile-nav-enter-active {
    transform: translateX(0);
  }
  
  /* Mobile viewport fixes for requisition form */
  @media (max-width: 640px) {
    /* Prevent zoom on focus for form inputs */
    input, select, textarea {
      font-size: 16px !important;
    }
    
    /* Prevent viewport shifting on touch */
    * {
      -webkit-tap-highlight-color: transparent;
    }
    
    /* Improve touch targets */
    button, .clickable {
      min-height: 44px;
      min-width: 44px;
    }
    
    /* Fix scroll behavior for material lists */
    .material-list {
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
    }
    
    /* Ensure proper container behavior */
    .container {
      padding-left: 1rem;
      padding-right: 1rem;
    }
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .bg-gradient-to-r {
    background-image: linear-gradient(to right, var(--tw-gradient-stops));
  }
  
  .from-primary-500 {
    --tw-gradient-from: hsl(var(--primary));
    --tw-gradient-to: hsl(var(--primary) / 0);
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
  }
  
  .to-primary-600 {
    --tw-gradient-to: hsl(var(--primary));
  }
}
